<h2 style="text-align: center;">微博快照</h2>
<input type="text" id="search" placeholder="輸入日期或關鍵字" onkeyup="searchSnapshots()">
<div id="snapshots"></div>
<button id="loadMore">載入更多</button>

<script>
const snapshots = [
    "2025-02-26-0001.html",
    "2025-02-26-0002.html",
    "2025-02-25-0001.html",
    "2025-02-24-0001.html"
]; // 這裡要用 JavaScript 自動讀取 `docs/snapshots/` 內的檔案

let index = 0;
const batchSize = 5;

function loadSnapshots() {
    const container = document.getElementById("snapshots");
    for (let i = 0; i < batchSize && index < snapshots.length; i++, index++) {
        const div = document.createElement("div");
        div.className = "snapshot";
        div.innerHTML = `<a href="snapshots/${snapshots[index]}" target="_blank">${snapshots[index]}</a>`;
        container.appendChild(div);
    }
    if (index >= snapshots.length) document.getElementById("loadMore").style.display = "none";
}

function searchSnapshots() {
    const query = document.getElementById("search").value;
    const container = document.getElementById("snapshots");
    container.innerHTML = "";
    snapshots.filter(name => name.includes(query)).forEach(name => {
        const div = document.createElement("div");
        div.className = "snapshot";
        div.innerHTML = `<a href="snapshots/${name}" target="_blank">${name}</a>`;
        container.appendChild(div);
    });
}

document.getElementById("loadMore").addEventListener("click", loadSnapshots);
loadSnapshots();
</script>
