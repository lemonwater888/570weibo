<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微博快照列表</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 20px auto;
            padding: 10px;
            background-color: #f9f9f9;
        }
        h1 { text-align: center; }
        input, button { margin: 5px 0; padding: 5px; width: 100%; }
        ul { list-style: none; padding: 0; }
        li { background: white; margin: 5px 0; padding: 10px; border-radius: 5px; }
        a { text-decoration: none; color: #007bff; font-weight: bold; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>

    <h1>微博快照列表</h1>

    <input type="text" id="searchInput" placeholder="🔍 搜尋關鍵字..." onkeyup="filterSnapshots()">
    <input type="date" id="startDate">
    <input type="date" id="endDate">
    <button onclick="filterByDate()">按日期篩選</button>

    <ul id="snapshotList">
        <!-- 這裡 JavaScript 會自動載入快照 -->
    </ul>

    <script>
        // 快照列表（需手動維護或用 GitHub API 自動取得）
        const snapshots = [
            "2025-02-26-0001.html",
            "2025-02-25-0002.html",
            "2025-02-24-0003.html",
            "2025-02-20-0004.html"
        ];

        // 生成快照列表
        function loadSnapshots() {
            const list = document.getElementById("snapshotList");
            list.innerHTML = "";
            snapshots.forEach(file => {
                let date = file.substring(0, 10); // 取出 YYYY-MM-DD
                let li = document.createElement("li");
                li.innerHTML = `<a href="snapshots/${file}" target="_blank">${date}</a>`;
                list.appendChild(li);
            });
        }

        // 搜尋關鍵字
        function filterSnapshots() {
            let input = document.getElementById("searchInput").value.toLowerCase();
            let items = document.querySelectorAll("#snapshotList li");
            items.forEach(li => {
                let text = li.innerText.toLowerCase();
                li.style.display = text.includes(input) ? "" : "none";
            });
        }

        // 依日期篩選
        function filterByDate() {
            let start = document.getElementById("startDate").value;
            let end = document.getElementById("endDate").value;
            let items = document.querySelectorAll("#snapshotList li");
            items.forEach(li => {
                let date = li.innerText;
                li.style.display = (!start || date >= start) && (!end || date <= end) ? "" : "none";
            });
        }

        // 頁面載入時顯示快照
        loadSnapshots();
    </script>

</body>
</html>
